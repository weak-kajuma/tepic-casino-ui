import { NextPage } from "next"
import { useSearchParams } from "next/navigation"
import QRCodeStyling from "qr-code-styling"
import { useEffect } from "react"

const Page: NextPage = () => {
    const searchParams = useSearchParams()

    useEffect(() => {
        downloadQRCode(searchParams.get("id")!, searchParams.get("token")!)
    },[searchParams])

    return (<>
        <a href="/admin/accounts" className="ubuntu">Return to User List</a>
        <style jsx>{`
            .ubuntu {
                font-family: 'Ubuntu', sans-serif;
            }
        `}    
        </style>
    </>
    )
}

const downloadQRCode = async (user_id: string, token: string) => {
    const qrcode = new QRCodeStyling({
        width: 250,
        height: 250,
        type: "svg",
        data: `https://casino.takatsuki.club/users?id=${user_id}&token=${token}`,
        image: "data:image/png;base64,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",
        qrOptions: {
            errorCorrectionLevel: 'H'
        },
        dotsOptions: {
            color: "#000000",
            type: "square"
        },
        cornersSquareOptions:{
            type: "square"
        },
        cornersDotOptions: {
            type: "square"
        },
        backgroundOptions: {
            color: "#fff",
        }
    })

    const img = new Image()
    const rawData = await qrcode.getRawData()
    img.src = URL.createObjectURL(rawData!)
    img.onload = () => {
        const canvas = document.createElement("canvas")
        canvas.width = 250
        canvas.height = 300
        const ctx = canvas.getContext("2d")
        ctx!.drawImage(img, 0, 0)
        ctx!.font = "48px Ubuntu"
        ctx!.fillText(user_id, 65, 285)
        const link = document.createElement("a")
        link.href = canvas.toDataURL("image/png")
        link.download = `${user_id}.png`
        link.click()
        window.close()
    }
}

export default Page